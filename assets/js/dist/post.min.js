/*!
 * Chirpy v4.3.4 (https://github.com/cotes2020/jekyll-theme-chirpy/)
 * Â© 2019 Cotes Chung
 * MIT Licensed
 */
$(function(){$(window).scroll(()=>{50<$(this).scrollTop()&&"none"===$("#sidebar-trigger").css("display")?($("#back-to-top").css("display","inline-flex"),$("#back-to-top").fadeIn()):$("#back-to-top").fadeOut()}),$("#back-to-top").click(()=>($("body,html").animate({scrollTop:0},800),!1))}),$(function(){$(".mode-toggle").click(t=>{const e=$(t.target);let o=e.prop("tagName")==="button".toUpperCase()?e:e.parent();o.blur(),flipMode()})}),$(function(){const t=$("#sidebar-trigger"),e=$("#search-trigger"),o=$("#search-cancel"),n=$("#search-cleaner"),a=$("#main"),r=$("#topbar-title"),i=$("#search-wrapper"),l=$("#search-result-wrapper"),s=$("#search-results"),c=$("#search-input"),d=$("#search-hints"),u=function(){let t=0;return{block(){t=window.scrollY,$("html,body").scrollTop(0)},release(){$("html,body").scrollTop(t)},getOffset(){return t}}}(),p={on(){t.addClass("unloaded"),r.addClass("unloaded"),e.addClass("unloaded"),i.addClass("d-flex"),o.addClass("loaded")},off(){o.removeClass("loaded"),i.removeClass("d-flex"),t.removeClass("unloaded"),r.removeClass("unloaded"),e.removeClass("unloaded")}},m=function(){let t=!1;return{on(){t||(u.block(),l.removeClass("unloaded"),a.addClass("unloaded"),t=!0)},off(){t&&(s.empty(),d.hasClass("unloaded")&&d.removeClass("unloaded"),l.addClass("unloaded"),n.removeClass("visible"),a.removeClass("unloaded"),u.release(),c.val(""),t=!1)},isVisible(){return t}}}();function h(){return o.hasClass("loaded")}e.click(function(){p.on(),m.on(),c.focus()}),o.click(function(){p.off(),m.off()}),c.focus(function(){i.addClass("input-focus")}),c.focusout(function(){i.removeClass("input-focus")}),c.on("keyup",function(t){8===t.keyCode&&""===c.val()?h()?d.removeClass("unloaded"):m.off():""!==c.val()&&(m.on(),n.hasClass("visible")||n.addClass("visible"),h()&&d.addClass("unloaded"))}),n.on("click",function(){c.val(""),h()?(d.removeClass("unloaded"),s.empty()):m.off(),c.focus(),n.removeClass("visible")})}),$(function(){var t=function(){const t="sidebar-display";let e=!1;const o=$("body");return{toggle(){!1===e?o.attr(t,""):o.removeAttr(t),e=!e}}}();$("#sidebar-trigger").click(t.toggle),$("#mask").click(t.toggle)}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){const o=$("#topbar-wrapper"),n=$("#panel-wrapper"),a=$("#search-input"),r="topbar-up",i="topbar-down",l="toc-scrolling-up";let e,s=0;const c=o.outerHeight(),d=o.outerHeight();$(window).scroll(function(t){$("#topbar-title").is(":hidden")&&(e=!0)}),setInterval(function(){e&&(function(){var t,e=$(this).scrollTop();Math.abs(s-e)<=c||(e>s?e>d&&(o.removeClass(i).addClass(r),n.removeClass(i),a.is(":focus")&&a.blur()):e+$(window).height()<$(document).height()&&(void 0!==(t=o.attr(l))?"false"===t&&o.removeAttr(l):(o.removeClass(r).addClass(i),n.addClass(i))),s=e)}(),e=!1)},250)}),$(function(){const t=$("#topbar-title"),e=$("div.post>h1"),o=t.text().trim();let n=(0<e.length?e:$("h1")).text().trim();($("#page-category").length||$("#page-tag").length)&&/\s/.test(n)&&(n=n.replace(/[0-9]/g,"").trim()),$(window).scroll(function(){return!($("#post-list").length||e.is(":hidden")||t.is(":hidden")||$("#sidebar.sidebar-expand").length)&&void(95<=$(this).scrollTop()?t.text()!==n&&t.text(n):t.text()!==o&&t.text(o))}),t.click(function(){$("body,html").animate({scrollTop:0},800)})}),$(function(){var t="div.row";if(!($(t+" img").length<=0)){var e=document.querySelectorAll(t+" img[data-src]");const o=lozad(e);o.observe(),$(t+` p > img[data-src],${t} img[data-src].preview-img`).each(function(){let t=$(this).next();var e="EM"===t.prop("tagName")?t.text():"",o=$(this).attr("data-src");$(this).wrap(`<a href="${o}" title="${e}" class="popup"></a>`)}),$(".popup").magnificPopup({type:"image",closeOnContentClick:!0,showCloseBtn:!1,zoom:{enabled:!0,duration:300,easing:"ease-in-out"}}),$(t+" a").has("img").addClass("img-link")}}),$(function(){let o=$(".timeago").length,t=void 0;const a=$("meta[name=day-prompt]").attr("content"),r=$("meta[name=hour-prompt]").attr("content"),i=$("meta[name=minute-prompt]").attr("content"),l=$("meta[name=justnow-prompt]").attr("content");function e(){return $(".timeago").each(function(){var t,e;!1!==$(this)[0].hasAttribute("date")?(e=function(t,e){let o=new Date,n=new Date(t);return n.getFullYear()!==o.getFullYear()||n.getMonth()!==o.getMonth()?e:(t=Math.floor((o-n)/1e3),1<=(e=Math.floor(t/86400))?` ${e} `+a:1<=(e=Math.floor(t/3600))?` ${e} `+r:1<=(t=Math.floor(t/60))?` ${t} `+i:l)}($(this).attr("date"),t=$(this).text()))===t?$(this).removeAttr("date"):$(this).text(e):--o}),0===o&&void 0!==t&&clearInterval(t),o}0!==o&&0<e()&&(t=setInterval(e,6e4))}),$(function(){$("input[type=checkbox]").addClass("unloaded"),$("input[type=checkbox][checked]").before('<i class="iconfont icon-iccheckcircle checked"></i>'),$("input[type=checkbox]:not([checked])").before('<i class="iconfont icon-yuan_fuzhi"></i>')}),$(function(){var t=".code-header button.button-copy";const e="timeout";function a(t){if($(t)[0].hasAttribute(e)){t=$(t).attr(e);if(Number(t)>Date.now())return 1}}function r(t){$(t).attr(e,Date.now()+2e3)}function i(t){$(t).removeAttr(e)}const o=new ClipboardJS(t,{target(t){let e=t.parentNode.parentNode.nextElementSibling;return e.querySelector("code .rouge-code")}});$(t).tooltip({trigger:"hover",placement:"left"});const n=function(t){let e=$(t).children();return e.attr("class")}(t);o.on("success",t=>{t.clearSelection();const e=t.trigger;var o;a(e)||(function(t){let e=$(t),o=e.children();o.attr("class","iconfont icon-check")}(e),o=e,t=$(o).attr("title-succeed"),$(o).attr("data-original-title",t).tooltip("show"),r(e),setTimeout(()=>{var t;t=e,$(t).tooltip("hide").removeAttr("data-original-title"),function(t){let e=$(t),o=e.children();o.attr("class",n)}(e),i(e)},2e3))}),$("#copy-link").click(t=>{let e=$(t.target);if(!a(e)){t=window.location.href;const o=$("<input>");$("body").append(o),o.val(t).select(),document.execCommand("copy"),o.remove();const n=e.attr("data-original-title");t=e.attr("title-succeed");e.attr("data-original-title",t).tooltip("show"),r(e),setTimeout(()=>{e.attr("data-original-title",n),i(e)},2e3)}})}),$(function(){const n="lock";function s(t){$(t).removeAttr(n),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function a(t,e,o,n){const a=$(t).find("pre");let r;if(2==a.length)r=a.get(1).innerText;else{if(1!=a.length)return void s(o);r=a.get(0).innerText}var i,l={cmd:"g++ main.cpp && ./a.out",src:r};t="http://coliru.stacked-crooked.com/compile",l={headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",body:JSON.stringify(l)},i=2e4,Promise.race([fetch(t,l),new Promise((t,e)=>setTimeout(()=>e(new Error("timeout")),i))]).then(t=>t.text()).then(t=>{e.innerText=t,s(o)}).catch(t=>{e.innerText=n+t.message,s(o)})}$(".code-header button.button-run-cpp").click(function(t){if(!function(t){if($(t)[0].hasAttribute(n)){t=$(t).attr(n);if(Number(t)+5e3>Date.now())return 1}}($(this))){var o;o=$(this),$(o).attr(n,Date.now()+2e4),$("i",o).removeClass("icon-playfill").addClass("icon-loading");let t=function(o){let n=o.parentNode.parentNode.parentNode.nextElementSibling;if(null==n||"DETAILS"!=n.tagName||"run-output"!=n.className){let t=n;n=document.createElement("details"),n.className="run-output";let e=document.createElement("summary");e.textContent=o.attributes["output-title"].value,n.appendChild(e),null==t?o.parentNode.parentNode.parentNode.parentNode.appendChild(n):t.parentNode.insertBefore(n,t)}return $(n).attr("open","open"),n}(this);$("p",$(t)).remove();let e=document.createElement("p");e.innerText=this.attributes["wait-message"].value,t.appendChild(e),a(this.parentNode.parentNode.nextElementSibling,e,$(this),this.attributes["error-prompt"].value)}})}),$(function(){"use strict";const r="lock";function i(t){$(t).removeAttr(r),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function l(){console.logs.push(Array.from(arguments)),console.stdlog.apply(console,arguments)}$(".code-header button.button-run-javascript").click(function(t){if(!function(t){if($(t)[0].hasAttribute(r)){t=$(t).attr(r);if(Number(t)+5e3>Date.now())return 1}}($(this))){n=$(this),$(n).attr(r,Date.now()+2e4),$("i",n).removeClass("icon-playfill").addClass("icon-loading");let t=function(o){let n=o.parentNode.parentNode.parentNode.nextElementSibling;if(null==n||"DETAILS"!=n.tagName||"run-output"!=n.className){let t=n;n=document.createElement("details"),n.className="run-output";let e=document.createElement("summary");e.textContent=o.attributes["output-title"].value,n.appendChild(e),null==t?o.parentNode.parentNode.parentNode.parentNode.appendChild(n):t.parentNode.insertBefore(n,t)}return $(n).attr("open","open"),n}(this);$("p",$(t)).remove();let e=document.createElement("p");e.innerText=this.attributes["wait-message"].value,t.appendChild(e);var n=this.parentNode.parentNode.nextElementSibling;const a=$(n).find("pre");let o;if(2==a.length)o=a.get(1).innerText;else{if(1!=a.length)return void i($(this));o=a.get(0).innerText}n=new Function(o);console.log!=l&&(console.stdlog=console.log.bind(console),console.log=l),console.logs=[],n(),e.innerText=console.logs.join("\n"),i($(this))}})}),$(function(){const n="lock";function c(t){$(t).removeAttr(n),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function a(t,e,o,n){const a=$(t).find("pre");let r;if(2==a.length)r=a.get(1).innerText;else{if(1!=a.length)return void c(o);r=a.get(0).innerText}let i={version:"stable",optimize:"0",code:r,edition:"2021"};var l,s;-1!==r.indexOf("#![feature")&&(i.version="nightly"),l="https://play.rust-lang.org/evaluate.json",t={headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(i)},s=2e4,Promise.race([fetch(l,t),new Promise((t,e)=>setTimeout(()=>e(new Error("timeout")),s))]).then(t=>t.json()).then(t=>{e.innerText=t.result,c(o)}).catch(t=>{e.innerText=n+t.message,c(o)})}$(".code-header button.button-run-rust").click(function(t){if(!function(t){if($(t)[0].hasAttribute(n)){t=$(t).attr(n);if(Number(t)+5e3>Date.now())return 1}}($(this))){var o;o=$(this),$(o).attr(n,Date.now()+2e4),$("i",o).removeClass("icon-playfill").addClass("icon-loading");let t=function(o){let n=o.parentNode.parentNode.parentNode.nextElementSibling;if(null==n||"DETAILS"!=n.tagName||"run-output"!=n.className){let t=n;n=document.createElement("details"),n.className="run-output";let e=document.createElement("summary");e.textContent=o.attributes["output-title"].value,n.appendChild(e),null==t?o.parentNode.parentNode.parentNode.parentNode.appendChild(n):t.parentNode.insertBefore(n,t)}return $(n).attr("open","open"),n}(this);$("p",$(t)).remove();let e=document.createElement("p");e.innerText=this.attributes["wait-message"].value,t.appendChild(e),a(this.parentNode.parentNode.nextElementSibling,e,$(this),this.attributes["error-prompt"].value)}})}),$(function(){const s=$("#topbar-wrapper"),c=s.outerHeight(),t=$("#topbar-title"),d="toc-scrolling-up",u="scroll-focus";let p=0;$("a[href*='#']").not("[href='#']").not("[href='#0']").click(function(a){if(this.pathname.replace(/^\//,"")===location.pathname.replace(/^\//,"")&&location.hostname===this.hostname){const l=decodeURI(this.hash);let e=RegExp(/^#fnref:/).test(l),o=!e&&RegExp(/^#fn:/).test(l);var r=l.includes(":")?l.replace(/\:/g,"\\:"):l;let n=$(r);var i=$(this).parent().prop("tagName"),r=RegExp(/^H\d/).test(i),i=!t.is(":hidden");if(void 0!==n){a.preventDefault(),history.pushState&&history.pushState(null,null,l);a=r?$(this).offset().top:$(window).scrollTop();let t=n.offset().top-=8;t<a&&(r||o||i||(s.removeClass("topbar-down").addClass("topbar-up"),s.attr(d,!0),p+=1),(r||e)&&i&&(t-=c,console.log("[smooth] mobile -= topbar height"))),$("html").animate({scrollTop:t},500,()=>(n.focus(),$(`[${u}=true]`).length&&$(`[${u}=true]`).attr(u,!1),$(":target").length&&$(":target").attr(u,!1),(o||e)&&n.attr(u,!0),n.is(":focus")?!1:(n.attr("tabindex","-1"),n.focus(),void(void 0!==s.attr(d)&&(--p,p<=0&&s.attr(d,"false"))))))}}})});