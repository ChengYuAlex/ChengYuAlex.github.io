/*!
 * Chirpy v4.3.4 (https://github.com/cotes2020/jekyll-theme-chirpy/)
 * Â© 2019 Cotes Chung
 * MIT Licensed
 */
$(function(){$(window).scroll(()=>{$(this).scrollTop()>50&&"none"===$("#sidebar-trigger").css("display")?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()}),$("#back-to-top").click(()=>($("body,html").animate({scrollTop:0},800),!1))}),$(function(){const e=$("#sidebar-trigger"),t=$("#search-trigger"),n=$("#search-cancel"),o=$("#search-cleaner"),a=$("#main"),i=$("#topbar-title"),r=$("#search-wrapper"),l=$("#search-result-wrapper"),s=$("#search-results"),c=$("#search-input"),d=$("#search-hints"),u=function(){let e=0;return{block(){e=window.scrollY,$("html,body").scrollTop(0)},release(){$("html,body").scrollTop(e)},getOffset:()=>e}}(),p={on(){e.addClass("unloaded"),i.addClass("unloaded"),t.addClass("unloaded"),r.addClass("d-flex"),n.addClass("loaded")},off(){n.removeClass("loaded"),r.removeClass("d-flex"),e.removeClass("unloaded"),i.removeClass("unloaded"),t.removeClass("unloaded")}},m=function(){let e=!1;return{on(){e||(u.block(),l.removeClass("unloaded"),a.addClass("unloaded"),e=!0)},off(){e&&(s.empty(),d.hasClass("unloaded")&&d.removeClass("unloaded"),l.addClass("unloaded"),o.removeClass("visible"),a.removeClass("unloaded"),u.release(),c.val(""),e=!1)},isVisible:()=>e}}();function f(){return n.hasClass("loaded")}t.click(function(){p.on(),m.on(),c.focus()}),n.click(function(){p.off(),m.off()}),c.focus(function(){r.addClass("input-focus")}),c.focusout(function(){r.removeClass("input-focus")}),c.on("keyup",function(e){8===e.keyCode&&""===c.val()?f()?d.removeClass("unloaded"):m.off():""!==c.val()&&(m.on(),o.hasClass("visible")||o.addClass("visible"),f()&&d.addClass("unloaded"))}),o.on("click",function(){c.val(""),f()?(d.removeClass("unloaded"),s.empty()):m.off(),c.focus(),o.removeClass("visible")})}),$(function(){const e=function(){let e=!1;const t=$("body");return{toggle(){!1===e?t.attr("sidebar-display",""):t.removeAttr("sidebar-display"),e=!e}}}();$("#sidebar-trigger").click(e.toggle),$("#mask").click(e.toggle)}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){const e=$("#topbar-wrapper"),t=$("#toc-wrapper"),n=$(".access"),o=$("#search-input");let a,i=0;const r=5,l=e.outerHeight();$(window).scroll(function(e){$("#topbar-title").is(":hidden")&&(a=!0)}),setInterval(function(){a&&(!function(){var a=$(this).scrollTop();Math.abs(i-a)<=r||(a>i&&a>l?(e.removeClass("topbar-down").addClass("topbar-up"),t.length>0&&t.removeClass("topbar-down"),n.length>0&&n.removeClass("topbar-down"),o.is(":focus")&&o.blur()):a+$(window).height()<$(document).height()&&(e.removeClass("topbar-up").addClass("topbar-down"),t.length>0&&t.addClass("topbar-down"),n.length>0&&n.addClass("topbar-down")),i=a)}(),a=!1)},250)}),$(function(){const e=$("#topbar-title"),t=$("div.post>h1"),n=e.text().trim();let o=t.length>0?t.text().trim():$("h1").text().trim();($("#page-category").length||$("#page-tag").length)&&/\s/.test(o)&&(o=o.replace(/[0-9]/g,"").trim()),$(window).scroll(function(){if($("#post-list").length||t.is(":hidden")||e.is(":hidden")||$("#sidebar.sidebar-expand").length)return!1;$(this).scrollTop()>=95?e.text()!==o&&e.text(o):e.text()!==n&&e.text(n)}),e.click(function(){$("body,html").animate({scrollTop:0},800)})}),$(function(){$("input[type=checkbox]").addClass("unloaded"),$("input[type=checkbox][checked]").before('<i class="iconfont icon-iccheckcircle checked"></i>'),$("input[type=checkbox]:not([checked])").before('<i class="iconfont icon-yuan_fuzhi"></i>')}),$(function(){if($("div.row img").length<=0)return;const e=document.querySelectorAll("div.row img[data-src]");lozad(e).observe(),$("div.row p > img[data-src],div.row img[data-src].preview-img").each(function(){let e=$(this).next();const t="EM"===e.prop("tagName")?e.text():"",n=$(this).attr("data-src");$(this).wrap(`<a href="${n}" title="${t}" class="popup"></a>`)}),$(".popup").magnificPopup({type:"image",closeOnContentClick:!0,showCloseBtn:!1,zoom:{enabled:!0,duration:300,easing:"ease-in-out"}}),$("div.row a").has("img").addClass("img-link")}),$(function(){const e=".code-header button.button-copy",t="iconfont icon-check",n="timeout",o=2e3;function a(e){if($(e)[0].hasAttribute(n)){let t=$(e).attr(n);if(Number(t)>Date.now())return!0}return!1}function i(e){$(e).attr(n,Date.now()+o)}function r(e){$(e).removeAttr(n)}const l=new ClipboardJS(e,{target:e=>e.parentNode.parentNode.nextElementSibling.querySelector("code .rouge-code")});$(e).tooltip({trigger:"hover",placement:"left"});const s=$(e).children().attr("class");l.on("success",e=>{e.clearSelection();const n=e.trigger;a(n)||(!function(e){$(e).children().attr("class",t)}(n),function(e){const t=$(e).attr("title-succeed");$(e).attr("data-original-title",t).tooltip("show")}(n),i(n),setTimeout(()=>{!function(e){$(e).tooltip("hide").removeAttr("data-original-title")}(n),function(e){$(e).children().attr("class",s)}(n),r(n)},o))}),$("#copy-link").click(e=>{let t=$(e.target);if(a(t))return;const n=window.location.href,l=$("<input>");$("body").append(l),l.val(n).select(),document.execCommand("copy"),l.remove();const s=t.attr("data-original-title"),c=t.attr("title-succeed");t.attr("data-original-title",c).tooltip("show"),i(t),setTimeout(()=>{t.attr("data-original-title",s),r(t)},o)})}),$(function(){const e="lock",t=2e4;function n(t){$(t).removeAttr(e),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function o(e,t,o,a){const i=$(e).find("pre");let r;if(2==i.length)r=i.get(1).innerText;else{if(1!=i.length)return void n(o);r=i.get(0).innerText}let l={cmd:"g++ main.cpp && ./a.out",src:r};(function(e,t,n=2e4){return Promise.race([fetch(e,t),new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),n))])})("http://coliru.stacked-crooked.com/compile",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",body:JSON.stringify(l)}).then(e=>e.text()).then(e=>{t.innerText=e,n(o)}).catch(e=>{t.innerText=a+e.message,n(o)})}$(".code-header button.button-run-cpp").click(function(n){if(function(t){if($(t)[0].hasAttribute(e)){let n=$(t).attr(e);if(Number(n)+5e3>Date.now())return!0}return!1}($(this)))return;var a;a=$(this),$(a).attr(e,Date.now()+t),$("i",a).removeClass("icon-playfill").addClass("icon-loading");let i=function(e){let t=e.parentNode.parentNode.parentNode.nextElementSibling;if(null==t||"DETAILS"!=t.tagName||"run-output"!=t.className){let n=t;(t=document.createElement("details")).className="run-output";let o=document.createElement("summary");o.textContent=e.attributes["output-title"].value,t.appendChild(o),null==n?e.parentNode.parentNode.parentNode.parentNode.appendChild(t):n.parentNode.insertBefore(t,n)}return $(t).attr("open","open"),t}(this);$("p",$(i)).remove();let r=document.createElement("p");r.innerText=this.attributes["wait-message"].value,i.appendChild(r),o(this.parentNode.parentNode.nextElementSibling,r,$(this),this.attributes["error-prompt"].value)})}),$(function(){"use strict";const e="lock",t=2e4;function n(t){$(t).removeAttr(e),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function o(){console.logs.push(Array.from(arguments)),console.stdlog.apply(console,arguments)}$(".code-header button.button-run-javascript").click(function(a){if(function(t){if($(t)[0].hasAttribute(e)){let n=$(t).attr(e);if(Number(n)+5e3>Date.now())return!0}return!1}($(this)))return;var i;i=$(this),$(i).attr(e,Date.now()+t),$("i",i).removeClass("icon-playfill").addClass("icon-loading");let r=function(e){let t=e.parentNode.parentNode.parentNode.nextElementSibling;if(null==t||"DETAILS"!=t.tagName||"run-output"!=t.className){let n=t;(t=document.createElement("details")).className="run-output";let o=document.createElement("summary");o.textContent=e.attributes["output-title"].value,t.appendChild(o),null==n?e.parentNode.parentNode.parentNode.parentNode.appendChild(t):n.parentNode.insertBefore(t,n)}return $(t).attr("open","open"),t}(this);$("p",$(r)).remove();let l=document.createElement("p");l.innerText=this.attributes["wait-message"].value,r.appendChild(l);const s=this.parentNode.parentNode.nextElementSibling,c=$(s).find("pre");let d;if(2==c.length)d=c.get(1).innerText;else{if(1!=c.length)return void n($(this));d=c.get(0).innerText}var u=new Function(d);console.log!=o&&(console.stdlog=console.log.bind(console),console.log=o),console.logs=[],u(),l.innerText=console.logs.join("\n"),n($(this))})}),$(function(){const e="lock",t=2e4;function n(t){$(t).removeAttr(e),$("i",t).removeClass("icon-loading").addClass("icon-playfill")}function o(e,t,o,a){const i=$(e).find("pre");let r;if(2==i.length)r=i.get(1).innerText;else{if(1!=i.length)return void n(o);r=i.get(0).innerText}let l={version:"stable",optimize:"0",code:r,edition:"2021"};-1!==r.indexOf("#![feature")&&(l.version="nightly"),function(e,t,n=2e4){return Promise.race([fetch(e,t),new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),n))])}("https://play.rust-lang.org/evaluate.json",{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(l)}).then(e=>e.json()).then(e=>{t.innerText=e.result,n(o)}).catch(e=>{t.innerText=a+e.message,n(o)})}$(".code-header button.button-run-rust").click(function(n){if(function(t){if($(t)[0].hasAttribute(e)){let n=$(t).attr(e);if(Number(n)+5e3>Date.now())return!0}return!1}($(this)))return;var a;a=$(this),$(a).attr(e,Date.now()+t),$("i",a).removeClass("icon-playfill").addClass("icon-loading");let i=function(e){let t=e.parentNode.parentNode.parentNode.nextElementSibling;if(null==t||"DETAILS"!=t.tagName||"run-output"!=t.className){let n=t;(t=document.createElement("details")).className="run-output";let o=document.createElement("summary");o.textContent=e.attributes["output-title"].value,t.appendChild(o),null==n?e.parentNode.parentNode.parentNode.parentNode.appendChild(t):n.parentNode.insertBefore(t,n)}return $(t).attr("open","open"),t}(this);$("p",$(i)).remove();let r=document.createElement("p");r.innerText=this.attributes["wait-message"].value,i.appendChild(r),o(this.parentNode.parentNode.nextElementSibling,r,$(this),this.attributes["error-prompt"].value)})});